# PRD：FilmLab AI 胶片修图教练（Web）
## 0. 文档信息

产品名称：FilmLab（暂定）

版本：V1.0（春招作品集版）

目标平台：Web（桌面优先，移动端只做浏览/轻操作）

核心卖点：AI 教练驱动的胶片工作流（自动分组/推荐/批量应用 + 可解释 + 可回退 + 可微调）

## 1. 背景与机会
### 1.1 背景

摄影用户的常见痛点：

“滤镜太多不知道选哪个”，尤其胶片风格需要“场景匹配”

一组照片需要统一风格，但每张光线不同，纯套滤镜容易翻车

后期不确定怎么调，缺少“可执行的指导”

很多照片本质在拍摄阶段就“不可修”，用户不知道如何改进拍摄

### 1.2 机会点

将 AI 的价值放在“教练式工作流”：

AI 先做“体检”（可修性&风险）→ 给“方案”（分组/推荐/批量应用）→ 用户微调

反向给拍摄建议：时间段/机位/焦段，让下一次“更好修、更像胶片”

## 2. 目标与非目标
### 2.1 产品目标（必须达成）

批量出片效率提升：导入一组照片 → AI 自动分组/推荐胶片 preset → 一键批量应用 → 单张微调 → 导出

可解释与可控：每个推荐都能说明原因、风险，且支持对比/回退/强度调节

胶片风格质量：不是简单套滤镜，至少具备 LUT + 曲线 + 颗粒（可扩展到 halation/bloom）

### 2.2 非目标（V1 不做）

社交社区、在线作品集、云同步（可在 V3 设想）

专业 RAW 全流程（V1 可仅支持 JPG/PNG；RAW 可作为加分项描述）

全自动“无脑一键完美修图”（我们强调 AI 辅助而非替代）

## 3. 用户画像与使用场景
### 3.1 Persona

P1 摄影爱好者（核心）：懂一点调色，但不稳定；希望快速出胶片氛围

P2 新手（学习优先）：想知道“为什么这么调”“下次怎么拍更好”

P3 旅拍/活动交付（效率优先）：一组图要统一风格，能批量同步、快速导出

### 3.2 核心场景

S1：旅拍 50 张，光线不一 → AI 分组并批量应用不同胶片风格

S2：人像 10 张 → AI 建议肤色保护 + 天空单独处理

S3：拍坏了（正午硬光/高光裁切）→ AI 提示“可修性限制”，并给拍摄改进建议

## 4. 产品体验总览（用户旅程）

进入首页 → 导入照片（拖拽/选择文件夹）

相册页自动生成缩略图 → 进入 AI 体检与方案（批处理预览面板）

AI 自动：

为每张图生成：可修性评分 + 风险提示

为整组图做：场景分组 + 每组主风格 preset

用户快速审核：

接受/替换 preset（Top3）

调整强度

决定“组内统一”或“逐张最适配”

进入单张精修：

全局：曝光/曲线/HSL/颗粒/暗角等

局部（V2 起）：AI 分割（人像/天空）+ mask 微调

导出：单张/组选/全选，支持导出参数（尺寸/质量/格式）

保存：自定义 preset（JSON）/导入 preset（加分）

## 5. 信息架构（页面与模块）
### 5.1 页面结构

Landing / Home

新建项目：导入照片

最近项目：继续编辑（本地缓存）

Library（相册/项目）

左：照片列表（虚拟滚动）

中：预览

右：基础信息（EXIF/评分摘要）

AI Batch Studio（AI 批处理预览面板）【核心】

顶部：模式切换（“一致性优先 / 最适配优先”）

左侧：照片/分组列表（按 AI 分组折叠）

中间：Before/After/分屏对比

右侧：AI 方案卡片（推荐 Top3、原因、风险、强度、应用范围）

Editor（单张精修）

预览：缩放/平移/对比（Before/After/分屏）

参数面板：全局编辑栈、滤镜开关、强度滑杆

历史：撤销/重做/快照（snapshot）

局部（V2）：mask 列表、画笔修边、区域滤镜强度

Export（导出）

导出选择：当前/选中/分组/全部

参数：格式、尺寸、质量、保留 EXIF（可选）

进度：队列、可取消、失败重试

## 6. 核心功能需求（MVP -> V2/V3）
### 6.1 导入与资产管理（V1）

支持拖拽/多选导入（JPG/PNG）

自动生成缩略图

项目保存：本地缓存（IndexedDB）

照片元信息展示：文件名、分辨率、EXIF（若有）

验收标准

100 张照片导入不卡死，缩略图逐步生成

关闭页面后可恢复项目状态（至少恢复照片与编辑参数）

### 6.2 非破坏式编辑引擎（V1）

编辑以“参数化滤镜栈”形式存在，不直接破坏原图

支持撤销/重做（Command 模式）

快照（Snapshot）至少 3 个

Before/After（快捷键）与分屏对比

验收标准

任意操作可撤销，撤销后预览与导出一致

编辑栈可序列化保存与恢复

## 6.3 胶片 Preset 系统（V1）
### 6.3.1 Preset 内容

至少包含：

3D LUT（核心）

曲线（Curves）

颗粒（Grain）

暗角（Vignette）

强度统一控制：0~100

Preset 分类：人像/风景/夜景/黑白（至少 4 类）

数量：V1 至少 12 个 preset

### 6.3.2 Preset 管理

一键套用 preset

套用后可微调参数

自定义保存 preset（本地）

导入/导出 preset（JSON）（加分项，可做 V1.1）

验收标准

preset 套用耗时可接受（预览<200ms 目标，具体看实现）

强度滑杆实时反馈，无明显卡顿

### 6.4 AI 体检（V1：可解释优先）

对每张照片输出“体检报告”：

曝光：直方图 + 高光/阴影裁切比例（明确数字）

色偏/色温倾向（偏黄/偏绿/偏冷）

锐度/模糊风险（清晰/轻微模糊/明显模糊）

噪点风险（低/中/高）

可修性评分（0~100）+ 维度拆解（动态范围/色彩可塑性/画质/主体分离）

UI 形式

体检卡（可折叠）

证据展示：直方图、裁切提示、噪点提示（可选热区）

验收标准

每项结论有证据（至少直方图和裁切提示）

可修性评分与风险提示一致，不出现“夸张承诺”

### 6.5 AI 方案生成：分组 + 推荐 + 批量应用（V1 核心）
#### 6.5.1 自动分组（V1）

按“场景/光线特征”粗分组（例如：室外日光/室内暖光/夜景霓虹/日落）

每组给一个主推荐 preset

#### 6.5.2 单张推荐（V1）

每张输出 Top3 preset（含置信度）

默认选择 Top1

提供推荐原因（模板化解释即可）

#### 6.5.3 批量应用（V1）

两种模式：

一致性优先：组内统一 preset（支持例外单张调整）

最适配优先：逐张采用各自 Top1

操作能力：

“应用到本组全部”

“对本组强度统一调整”

“替换本组 preset”（一键切换）

验收标准

用户在批处理面板可在 1 分钟内完成一组 50 张的“初步出片”

每张都能看到 Before/After 且可回退

### 6.6 AI 教练：反向拍摄建议（V2）

目标：基于当前照片的问题，给“可执行动作”，涵盖：

时间段建议：黄金时段/阴天/避开正午硬光（与高光裁切/硬阴影强关联）

位置/机位建议：换背景、更干净的背板、主体与背景拉开距离（与主体分离/分割难关联）

焦段建议（依赖 EXIF，若缺失则降级）

人像近景使用 24/28mm → 建议 50–85mm + 后退一步（改善透视）

背景杂乱 → 建议长焦压缩/更大光圈增强虚化（若能推断）

输出格式

3 条以内建议（短句 + 动作）

每条关联一个“原因”（例如：高光裁切 6%）

标注置信度（高/中/低）

验收标准

建议必须与检测问题强绑定，避免泛泛而谈

不提供“投资建议式承诺”，强调改善概率

### 6.7 局部滤镜（V2）

AI 分割：人物/天空（至少 2 类）

区域分别套用 preset 或调整强度

mask 编辑：画笔加/减、羽化、缩放平移、快捷键

验收标准

mask 可视化清晰，编辑不明显卡顿

区域效果可单独开关与回退

### 6.8 进阶胶片质感算子（V3）

Halation（高光红晕）

Bloom/Glow（柔光）

更拟真的 Grain（暗部更明显、颗粒大小可调）

组内风格同步（复制参数到多张）

## 7. 推荐系统设计（可解释、可控）
### 7.1 Preset 知识库（你定义规则）

每个 preset 配置：

适用标签：人像/夜景/日落/室内暖光/阴天等

风险禁忌：高光裁切严重不推荐强 bloom；高噪点不推荐重颗粒等

解释模板：为什么适合、可能副作用

具体参数：LUT + curves + grain 等

### 7.2 评分逻辑（V1 可用规则/打分）

输入：体检特征（曝光/色偏/噪点/锐度/EXIF）+ 场景分类结果

输出：Top3 preset + 强度建议

强度建议例：

动态范围差 → 强度下调、曲线更保守

噪点高 → 颗粒更弱或关闭、避免过度对比

### 8. 非功能需求（前端能力展示重点）
#### 8.1 性能

预览渲染：交互时保持流畅（目标：拖动滑杆无明显掉帧）

大图策略：预览用缩放纹理；导出用全分辨率离屏渲染

任务队列：导出/缩略图/AI 分析可排队、可取消、可重试

#### 8.2 稳定性

失败兜底：AI 分析失败不阻断编辑，提示并降级

崩溃恢复：项目状态持久化（照片索引 + 参数栈）

#### 8.3 隐私

默认本地处理（体检与基础推荐）

若接入云端 AI（可选）：清晰提示上传内容与用途

#### 8.4 可用性

快捷键：撤销/重做、Before/After、放大缩小

引导：首次使用一步引导（导入→AI 方案→导出）

## 9. 数据指标（作品集可写）
### 9.1 核心指标

批处理完成率：导入后成功导出比例

AI 推荐采纳率：Top1 被接受的比例；Top3 切换率

“组内统一”使用率（旅拍/活动用户会用）

单张微调率：套用后仍进入编辑器的比例（衡量工作流合理性）

### 9.2 质量指标

用户满意度（本地问卷/打分）

回退率：一键回退使用频次（高说明 AI 风险提示要改进）

性能指标：首屏时间、滑杆交互延迟、导出耗时

## 10. 风险与对策

AI 推荐不准

对策：Top3 + 可解释 + 一键回退 + 强度默认保守

用户误以为 AI 能修复裁切/严重模糊

对策：体检明确标注“不可恢复”风险，降低强度建议

大图性能卡顿

对策：缩放预览 + Worker/离屏渲染 + 虚拟列表

胶片效果“像滤镜不像胶片”

对策：LUT + 曲线 + 颗粒三件套优先；halation/bloom 做为进阶增强

## 11. 版本规划与里程碑
V1（作品集可交付，推荐优先做）

导入/项目缓存

非破坏式编辑栈 + 撤销/对比 + 导出

胶片 preset（≥12，含 LUT+曲线+颗粒+暗角）

AI 体检 + 推荐 Top3 + 自动分组

AI 批处理预览面板（组内一键应用、强度统一调整）

V2（质变：教练 + 局部）

AI 教练拍摄建议（时间段/机位/焦段，带原因与置信度）

人像/天空分割 + 局部强度/局部滤镜 + mask 修边

V3（拉开差距）

halation/bloom 等胶片质感算子

组内参数同步、preset 分享/导入导出完善

用户反馈学习（本地偏好更新权重）

12. 其他待办

preset 命名策略：避免直接使用商标胶片名，改为风格化命名（更稳）

是否支持 RAW：可作为 V2/加分项（实现成本较高）

分组策略：纯规则 vs 轻量分类模型（V1 规则足够，V2 可升级）

是否上云端 LLM：V1 可先用模板解释；V2 再接 LLM 生成更自然的“教练话术”
